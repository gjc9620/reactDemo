
<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta charset="UTF-8">
	<script src="../react-0.14.0/build/react.js"></script>
	<script src="../react-0.14.0/build/react-dom.js"></script>
	<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>-->
	<script charset="UTF-8" src="../lib/babel-core_5.8.23_browser.min.js"></script>


</head>
<body>
<div id="app"></div>
</body>
<script type="text/babel">
  
  const compose = (...hoc)=>{
    return (...arg)=>{
      return hoc.reduce((a, b)=>{
        return b(a(...arg));
      })
    }
  }
  
  class MyCom extends React.PureComponent {
    render(){
      console.log(this.props.data)
      return(
				<div ref={ref=>this.ref=ref}>313123123l</div>
      )
    }
  }
  
  const getHeight = Com =>
    class GetHeight extends React.PureComponent  {
      componentDidMount(){
        console.log(this.ref)
        debugger
      }
      render(){
        return <Com ref={ref=>this.ref=ref} {...this.props}  />
      }
    }
  
  const getWidth = Com =>
    class GetHeight extends React.PureComponent  {
      componentDidMount(){
        console.log(this.ref)
        debugger
      }
      render(){
        return <Com ref={ref=>this.ref=ref} {...this.props}/>
      }
    }




  const AwesomeCom = compose(getHeight, getWidth)(MyCom);




  ReactDOM.render(
		<AwesomeCom data={{aa:1}}/>,
    document.getElementById('app')
  );


</script>
</html>
